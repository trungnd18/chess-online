<!doctype html>
<html>
<head>
    <meta content="text/html" charset="utf-8">
    <link href="css/main.css" rel="stylesheet" type="text/css">
    <!--Library-->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://code.createjs.com/tweenjs-0.4.1.min.js"></script>
    <script type="text/javascript" src="http://code.createjs.com/preloadjs-0.3.1.min.js"></script>
    <script type="text/javascript" src="http://code.createjs.com/soundjs-0.4.1.min.js"></script>
    <script src="http://code.createjs.com/easeljs-0.6.1.min.js"></script>
    <!--Game -->

    <script src="js/game.js"  type="text/javascript"></script>
    <script src="js/main.js"  type="text/javascript"></script>
    <script src="js/player.js"  type="text/javascript"></script>
    <script src="js/lib.js"  type="text/javascript"></script>

    <script>
        $(function(){

            var canvas=document.getElementById("canvas");
            var stage = new createjs.Stage(canvas);
            var chess= new  Chess(canvas,stage);
            window.addEventListener('resize',resize, false);
            resize();
            chess.onLoad();
            function resize(){
                stage.canvas.width = 800;
                stage.canvas.height = 480;
                var gameWidth = window.innerWidth;
                var gameHeight = window.innerHeight;
                var scaleToFitX = gameWidth / 800;
                var scaleToFitY = gameHeight / 480;
                var currentScreenRatio = gameWidth / gameHeight;
                var optimalRatio = Math.min(scaleToFitX, scaleToFitY);
                if (currentScreenRatio >= 1.77 && currentScreenRatio <= 1.79) {
                    canvas.style.width = gameWidth + "px";
                    canvas.style.height = gameHeight + "px";
                } else {
                    canvas.style.width = 800 * optimalRatio + "px";
                    canvas.style.height = 480 * optimalRatio + "px";
                }

            }
        })

    </script>
</head>
<body>

<canvas id="canvas">
</canvas>

</body>

</html>